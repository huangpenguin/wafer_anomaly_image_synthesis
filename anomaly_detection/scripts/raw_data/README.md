# アノテーション用データ作成スクリプト (とめ研社内向け)
機械学習によるベベル観察画像の分類手法を検証するためのプログラム。  
```
注意:
● このフォルダのスクリプトは、とめ研社内の開発環境の情報を含む。
● このフォルダのスクリプトをSCREEN様に送付しないように注意する。
```


<br><hr>

## アノテーション用データ作成の基本手順
1. `_context.py`にデータフォルダのパスを設定する。
2. SCREEN様提供の検証用データからアノテーション対象データを選択する。
   * `01_make_annotation_images.py` を実行する。
   * 選択したデータに対して、表面と裏面を内側と外側に分割した画像が出力される。
   * データ情報を格納したDBが`image_info.db`に出力される。
3. アノテーション作業を実施する。
4. アノテーション結果をDBに反映する。
   * `05_aggregate_annotation_result.py` を実行する。
   * アノテーション結果のクラスラベルが、`image_info.db`に反映される。
   * アノテーション結果の統計情報が`annotation_summary.csv`に出力される。

## アノテーション対象データの追加手順
1. SCREEN様提供の検証用データからアノテーション対象データを**追加**で選択する。
   * `02_make_annotation_images_ext.py` を実行する。
   * 選択したデータに対して、表面と裏面を内側と外側に分割した画像が出力される。
   * データ情報を格納したDBが`image_info.db`に出力される。

## アノテーション結果修正データの反映手順
1. アノテーション結果のフォルダから、修正対象データを削除する。
   * `03_repair_annotation_mistake.py`を実行する。
2. アノテーション修正画像フォルダを、修正前のフォルダに手動で上書きする。

## 画像情報DBの再構築手順
1. 選択画像フォルダの情報から、画像情報DBを再構築する。
   * `04_reconstruct_db_from_images.py`を実行する。
     * スクリプト内で選択画像フォルダを指定。
   * `image_info.db`が出力される。